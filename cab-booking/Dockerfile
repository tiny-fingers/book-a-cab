FROM openjdk:17

LABEL maintainer="tinyfingers"

WORKDIR /app

ENV SERVER_PORT=${SERVER_PORT}
ENV CLIENT_ORIGIN_URL=${CLIENT_ORIGIN_URL}
ENV OAUTH_ISSUER=${OAUTH_ISSUER}
ENV OAUTH_CLIENT_ID=${OAUTH_CLIENT_ID}
ENV OAUTH_CLIENT_SECRET=${OAUTH_CLIENT_SECRET}
ENV OAUTH_AUDIENCE=${OAUTH_AUDIENCE}

ENV API_DISTANCE_HOST_URL=${API_DISTANCE_HOST_URL}
ENV API_PRICE_CALCULATOR_HOST_URL=${API_PRICE_CALCULATOR_HOST_URL}

COPY target/cab-booking-0.0.1-SNAPSHOT.jar /app/cab-booking-0.0.1-SNAPSHOT.jar

EXPOSE ${SERVER_PORT}

CMD ["java", "-jar", "cab-booking-0.0.1-SNAPSHOT.jar"]
